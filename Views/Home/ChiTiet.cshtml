@{
    ViewData["Title"] = Model.Name;
}
@model SanPham

<!-- Toast Notification -->
@if (TempData["Success"] != null)
{
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="successToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    @TempData["Success"]
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>
}

<!-- Product Detail -->
<div class="container my-5" style="margin-top: 56px;">
    <h1 class="text-center mb-4">@Model.Name</h1>
    <div class="row">
        <div class="col-md-6">
            <img src="@Model.ImageUrl" class="img-fluid rounded shadow-sm" alt="@Model.Name" />
        </div>
        <div class="col-md-6">
            <h3>Chi Tiết Sản Phẩm</h3>
            <p><strong>Tên sản phẩm:</strong> @Model.Name</p>
            <p><strong>Loại sản phẩm:</strong> @Model.Category</p>
            <p><strong>Còn hàng:</strong> @Model.SoLuong</p>
            <p><strong>Giá:</strong> @(Model.Price.ToString("#,##0").Replace(",", ".")) VNĐ</p>
            <p><strong>Thông tin sản phẩm:</strong> Chất lượng cao @Model.Name với các tính năng tiên tiến và thiết kế đẹp mắt.</p>
            <h4>Phương thức thanh toán</h4>
            <ul class="list-group list-group-flush mb-3">
                <li class="list-group-item">Cash on Delivery (COD)</li>
                <li class="list-group-item">Credit/Debit Card (Visa, MasterCard)</li>
                <li class="list-group-item">Ví điện tử (Momo, ZaloPay)</li>
                <li class="list-group-item">Bank Transfer</li>
            </ul>
            <form asp-controller="GioHang" asp-action="Add" method="post" class="d-grid gap-2">
                <input type="hidden" name="id" value="@Model.Id" />
                <button type="submit" class="btn btn-primary btn-lg w-100">Thêm vào giỏ hàng</button>
            </form>
            <!-- Liên kết đến giỏ hàng sau khi thêm -->
            <a asp-controller="GioHang" asp-action="Index" class="btn btn-info w-100 mt-2" asp-route-returnToCart="true">Xem giỏ hàng</a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var toastEl = document.getElementById('successToast');
            if (toastEl) {
                var toast = new bootstrap.Toast(toastEl, { delay: 3000 });
                toast.show();
            }
        });
    </script>
}